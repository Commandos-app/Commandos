<div class="branding">
    <img [routerLink]="['/home']" src="../../../../assets/logo/commandos_white.svg" class="clickable" height="32">
    <span [routerLink]="['/home']" class="default-cursor clickable" data-tauri-drag-region>ommandos</span>
</div>
<app-commander></app-commander>



<div class="window-action" data-tauri-drag-region>
    <a (click)="isOpen = !isOpen" cdkOverlayOrigin #headerMenuTrigger="cdkOverlayOrigin" class="action clickable"
        aria-label="minimize" role='button'>
        <cds-icon shape="bars" size="20" [solid]="tauriService.isPinned"></cds-icon>
    </a>
</div>
<!-- <div class="window-action" data-tauri-drag-region>
    <a (click)="pin()" class="action clickable" aria-label="minimize" role='button'>
        <cds-icon shape="pin" size="20" [solid]="tauriService.isPinned"></cds-icon>
    </a>
</div> -->

<div class="window-action" data-tauri-drag-region>
    <a (click)="minimize()" class="action clickable" aria-label="minimize" role='button'>
        <cds-icon shape="window-min" size="20"></cds-icon>
    </a>
</div>

<ng-container>
    <div class="window-action" data-tauri-drag-region *ngIf="!isMaximised">
        <a (click)="maximize()" class="action clickable" aria-label="maximize" role="button">
            <cds-icon shape="window-max" size="20"></cds-icon>
        </a>
    </div>

    <div class="window-action" data-tauri-drag-region *ngIf="isMaximised">
        <a (click)="unmaximize()" class="action clickable" aria-label="restore" role="button">
            <cds-icon shape="window-restore" size="20"></cds-icon>
        </a>
    </div>


</ng-container>

<!-- <a [routerLink]="['/settings']" routerLinkActive="active" class="action" aria-label="settings">
    <cds-icon shape="cog" size="16"></cds-icon>
</a> -->
<div class="window-action" data-tauri-drag-region>
    <a (click)="closeClient()" class="action clickable" aria-label="close" role='button'>
        <cds-icon shape="window-close" size="20"></cds-icon>
    </a>
</div>

<ng-template cdkConnectedOverlay [cdkConnectedOverlayOrigin]="headerMenuTrigger" [cdkConnectedOverlayOpen]="isOpen"
    [cdkConnectedOverlayHasBackdrop]="true" (backdropClick)="isOpen = false">
    <section class="contextmenu" cds-layout="p:xs">

        <!-- <cds-divider></cds-divider> -->
        <div (click)="pin()" cds-text="secondary" cds-layout="p:sm" class="clickable contextmenu-action">
            Always on top
        </div>
        <div (click)="goto('/settings')" cds-text="secondary" cds-layout="p:sm" class="clickable contextmenu-action">
            Settings
        </div>
        <cds-divider></cds-divider>
        <div (click)="goto('/about')" cds-text="secondary" cds-layout="p:sm" class="clickable contextmenu-action">
            About
        </div>
        <!-- <div>Send to</div> -->
    </section>
</ng-template>
